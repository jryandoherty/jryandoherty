!function(){var a=!1,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this._Class=function(){},_Class.extend=function(c){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)f[g]="function"==typeof c[g]&&"function"==typeof e[g]&&b.test(c[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]):c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d}}(),function(){"use strict";var a={},b={errorCodes:{REPEAT_BUYER_ERROR:-100,BANNED_BUYER_ERROR:-150,UNMATCHED_ERROR:-200,INVALID_PUBLISHER_ID_ERROR:-300,INVALID_QUESTION_SET_VERSION_ID_ERROR:-400,MISSING_REQUIRED_QUESTION_ERROR:-600,MISSING_CONTACT_INFORMATION_ERROR:-700,UNKNOWN_ERROR:-800},successCodes:{}},c={errorPages:{"-100":"repeatRequest.html","-150":"reviewRequest.html"},successPages:{"-250":"matchingResults.html","-350":"aor/receiverSelection.html"}},d={PPC:"2274",SEO:"2275",PUBLISHER_IFRAME:"2276",TABLET:"2280",MOBILE:"2286",WIDGET:"2278"};window.BZ={pageIndex:null,pageCount:null,$pages:null,pbar:null,isAnimating:!1,contentViewport:{left:"0",top:"0",width:"500px",height:"500px"},qs:{pageCount:null},reg:{layout:{colWidth:null,colPadding:null},pageCount:null},apiDomain:null,categoryId:null,categoryName:null,questionSetVersionId:"",me:null,pageController:null,eventCat:null,submitUrl:null,errorCodes:b.errorCodes,errorPages:c.errorPages,flowTypeIds:d,staticGuids:["additionalRequirements","email","zipcodeQuestion"],ieProxyUrl:"//us-east1-bz-proxyapp-1169396860.us-east-1.elb.amazonaws.com/",successPages:c.successPages,isUnloading:!1,controller:{},flow:{},renderer:{},widget:{},applyTemplate:function(a,b){return $(BZ.applyTemplateStr(a,b))},applyTemplateStr:function(b,c){var d=a[b];return d||(d=a[b]=Handlebars.compile($(b).html())),d(c)}}}(),function(){"use strict";BZ.helpers=$.extend(Handlebars.helpers,{ifEqual:function(a,b,c){return a==b?c.fn(this):c.inverse(this)},ifEven:function(a,b){return a%2===0?b.fn(this):b.inverse(this)},math:function(a,b,c){switch(c=parseFloat(c),b){case"+":return a+c;case"-":return a-c;case"*":return a*c;case"/":return a/c;case"%":return a%c;default:return a}},redirect:function(a){return window.bzRD?new Handlebars.SafeString(" onclick=\"bzRD.setMessage('"+a+"');\""):new Handlebars.SafeString(" onclick=\"document.location='"+a+"?redirect=true';\"")},asyncRedirect:function(a){var b=a.categoryId,c=(a.urlMessage,a.staticUrl);return b?new Handlebars.SafeString(" onclick=\"$(document).trigger('asyncRedirectSelected', ["+b+',$(this)])";'):new Handlebars.SafeString(" onclick=\" this.checked=false; window.open('"+c+"');\"")},rfqHoverImage:function(a,b){return new Handlebars.SafeString(['<div id="dialog_img',a.data.index+1,'" title="',this.label,'" class="hover-img-container">','<span>&#x25b2;</span><p></p><div><img src="',this.hoverImage,'" alt="',this.label,'" /></div>',"</div>"].join(""))},setSelected:function(a,b){return a===b?new Handlebars.SafeString(' selected="selected"'):""},set:function(a){for(var b in a.hash)this[b]=a.hash[b]},length:function(a){return a.length},urlEncode:function(a){return encodeURIComponent(a)},x:function(a,b){var c,d=function(){};try{d=Function.apply(this,["window","return "+a+" ;"])}catch(e){}try{c=d.call(this,window)}catch(e){}return c},xif:function(a,b){return Handlebars.helpers.x.apply(this,[a,b])?b.fn(this):b.inverse(this)}})}(),function(){"use strict";function a(){$.ajaxSetup({cache:!1,contentType:"application/json",headers:{},beforeSend:function(a,b){window.XDomainRequest}}),$(window).bind("beforeunload",function(){BZ.isUnloading=!0}),window.console||(window.console={log:function(){}}),navigator.userAgent.indexOf("Safari")>-1&&$("html").addClass(navigator.userAgent.indexOf("Chrome")>-1?"chrome":"safari")}$(document).ready(function(){a()})}(),function(){"use strict";var a=BZ.util={adjustPageHeight:function(){$("#bwaRfqWidget").length>0?a.updateBwaFormHeight():a.getPageParentContainer().css("height",a.getVisiblePage().height()+18)},getCurrentPage:function(){return $(BZ.$pages[BZ.pageIndex])},getTotalPages:function(){return parseInt($.cookie("bz_totalpages"),10)||0},getVisiblePage:function(){return BZ.$pages.filter(":visible")},isFirstPage:function(){return 0===BZ.pageIndex},isLastPage:function(){return BZ.pageIndex===BZ.pageCount-1},isPenultimatePage:function(){return BZ.pageIndex===BZ.pageCount-2},getForm:function(){return BZ.$pages.parent().closest("form")},getPageParentContainer:function(){return BZ.$pages.closest("form").parent()},getCategoryPath:function(){return window.location.pathname.split("/").slice(0,window.location.pathname.indexOf("bzng")>-1?4:3).join("/")+"/"},getFlowTypeId:function(a){return BZ.flowTypeIds[a]||a},hasCookiesEnabled:function(){$.cookie("bzCookies","enabled");var a=$.cookie("bzCookies");return a||alert("Cookies are disabled in your browser.\n\nPlease enable cookies and reload this page to continue."),a},trackEvent:function(a){window._gaq&&_gaq.push(["_trackEvent",BZ.categoryName,a,BZ.eventCat])},trackWidgetEvent:function(a){void 0!==window._bzEventTracking&&"function"==typeof window._bzEventTracking&&window._bzEventTracking(a),_gaq.push(["_setAccount","UA-1758847-8"],["_trackEvent",BZ.categoryName,a,"/"+BZ.categoryName+"/rfqp"])},serializeForm:function(b){var c,d,e=$(a.getForm()).serializeArray(),f={};return $.each(e,function(){c=this.value||"",d=f[this.name],d?$.isArray(d)?f[this.name].push(c):f[this.name]=[d,c]:f[this.name]=c}),b&&$.extend(f,b),JSON.stringify(f)},isIE7:function(){return $.browser.msie&&7===parseInt($.browser.version,10)},isIE8:function(){return $.browser.msie&&8===parseInt($.browser.version,10)},isIE11:function(){return!!navigator.userAgent.match(/Trident\/7\./)},updateBwaFormHeight:function(){var a=BZ.util.getCurrentPage().height();$(".js-bwa-form").height(a+50)}}}(),function(){"use strict";BZ.controller._PageController=_Class.extend({$backEl:null,$backElLbl:null,$container:null,$nextEl:null,$nextElLbl:null,$submitEl:null,$submitElLbl:null,init:function(a){var b=this;$.extend(b,a),BZ.pageIndex=0,b.setupListeners()},setupListeners:function(){var a=this;a.enableBack(),a.enableNext(),a.$submitEl&&a.$submitEl.on("click",a.submit)},enableBack:function(){this.$backEl.on("click",this,this.back),this.$backEl.css("cursor","pointer")},disableBack:function(){$(document).off(".bzFlow"),this.$backEl.off("click",this,this.back),this.$backEl.css("cursor","default")},enableNext:function(){this.$nextEl.on("click",this,this.forward),this.$nextEl.css("cursor","pointer")},disableNext:function(){$(document).off(".bzFlow"),this.$nextEl.off("click",this,this.forward),this.$backEl.css("cursor","default")},back:function(a){var b=a.data;return b.canGoBackward()&&$(document).trigger("previousPage.bzFlow"),!1},forward:function(a){if(!BZ.util.hasCookiesEnabled())return!1;var b=a.data;return b.canGoForward()&&(BZ.util.isLastPage()?$(document).trigger("pageSubmit.bzFlow"):$(document).trigger("nextPage.bzFlow")),!1},canGoForward:function(){return console.log("should not get here"),!0},canGoBackward:function(){return!0}})}(),function(){"use strict";BZ.controller.RfqPageController=BZ.controller._PageController.extend({setupListeners:function(){var a=this;this._super(),$(".autoSlide").on("change",function(){$(this).hasClass("redirect")||$(this).siblings().hasClass("multipleAnsOther")||("select"===this.nodeName.toLowerCase()&&this.value.length&&"Please Select"!==this.value||$(this).is(":checked"))&&a.forward({data:a})})},autoSlideOff:function(a){a.find(".autoSlide").each(function(a,b){$(b).removeClass("autoSlide").unbind()})}})}(),function(){"use strict";BZ.flow._Flow=_Class.extend({apiDomain:null,categoryId:null,categoryName:null,defaultRedirect:null,flowType:null,pageType:null,$renderTo:null,_renderer:null,init:function(a){var b=this;$.extend(b,a),$.extend(BZ,{me:b,apiDomain:a.apiDomain,categoryId:a.categoryId,categoryName:a.categoryName,contentViewport:{left:"0",top:"0",width:"0",height:"0"}}),$(document).on("previousPage.bzFlow",function(a){b.previousPage()}),$(document).on("nextPage.bzFlow",function(a){b.nextPage()}),$(document).on("pageRendered.bzFlow",function(a){b.initValidator(),b.createDialogs(),b.addContentListeners(),b._startController()}),$(document).on("newPage.bzFlow",function(){b.onNewPage()}),$(document).on("pageSubmit.bzFlow",function(){b.onPageSubmit()}),$(document).on("adjustPageHeight.bzFlow",function(){b.onAdjustPageHeight()}),$(document).on("dataRendered.bzFlow",function(a,c){b.onDataRendered(a,c)})},startup:function(){var a=this,b=a.getRenderer().render();$.when(b).done(function(a,b,c){})},cleanUpListeners:function(){$(document).off(".bzFlow")},getRenderer:function(){throw new Error("BZ.flow._Flow.getRenderer() called out of context")},initValidator:function(){throw new Error("BZ.flow._Flow.initValidator() called out of context")},showPage:function(a){throw new Error("Must implement showPage() in subclass")},setTabIndex:function(a){throw new Error("Must implement setTabIndex() in subclass")},previousPage:function(){throw new Error("Must implement previousPage() in subclass")},nextPage:function(){throw new Error("Must implement nextPage() in subclass")},hidePage:function(a){throw new Error("Must implement hidePage() in subclass")},onNewPage:function(a){BZ.pbar&&BZ.pbar.updateProgress(a||BZ.pageIndex)},onPageSubmit:function(){var a=this,b=BZ.util.serializeForm($.deparam.querystring());a.beforePageSubmitRequest(),$.ajax({url:BZ.submitUrl,data:b,type:"POST",success:function(b){a.submitFormSuccess(b)},error:function(b,c,d){a.submitFormError(b,c,d)}})},beforePageSubmitRequest:function(){},submitFormSuccess:function(a){if(a.hasOwnProperty("errorCode"))return this.ieSubmitFormError(a),!1;var b=a.successCode?a.successCode.toString():"";return BZ.successPages.hasOwnProperty(b)?(window.location.href=this._makeRedirectURL({baseURL:BZ.util.getCategoryPath()+BZ.successPages[b],requestId:a.quoteRequestId,rfqPreview:a.rfqPreview||null}),!1):(window.location.href=this._makeRedirectURL({baseURL:this.defaultRedirect,requestId:a.quoteRequestId,rfqPreview:a.rfqPreview||null}),!1)},submitFormError:function(a,b,c){try{var d=JSON.parse(a.responseText),e=d.errorCode.toString();if(d._links.redirectUrl)return window.location.href=d._links.redirectUrl,!1;if(400===d.httpStatus&&BZ.errorPages.hasOwnProperty(e))return window.location.href=this._makeRedirectURL({baseURL:BZ.util.getCategoryPath()+BZ.errorPages[e],requestId:d.originalQuoteRequestId||null,rfqPreview:d.rfqPreview||null}),!1;alert(d.errors[0])}catch(f){console.log("caught error: ",f,"xhr: ",a,"status: ",b)}},ieSubmitFormError:function(a){var b=a.errorCode.toString();return BZ.errorPages.hasOwnProperty(b)?(window.location.href=this._makeRedirectURL({baseURL:BZ.util.getCategoryPath()+BZ.errorPages[b],requestId:a.originalQuoteRequestId||null,rfqPreview:a.rfqPreview||null}),!1):void 0},onDataRendered:function(a,b){},addContentListeners:function(){},createDialogs:function(){},_startController:function(){var a=this;BZ.pageController=a.getPageController(),a.initFlow()},getPageController:function(){throw new Error("Must implement getPageController() in subclass")},initFlow:function(){},afterFlowInit:function(){},adjustPageHeight:function(){},onAdjustPageHeight:function(){this.adjustPageHeight()},canGoForward:function(){throw new Error("Must implement canGoForward() in subclass")},_makeRedirectURL:function(a){return a.baseURL+"?flow="+BZ.util.getFlowTypeId(this.flowType)+(a.requestId?"&_bz_rfq_id="+a.requestId:"")+(a.rfqPreview?"&_rfq_preview="+a.rfqPreview:"")+document.location.hash}})}(),function(){"use strict";BZ.flow.RfqFlow=BZ.flow._Flow.extend({slide:!0,_validator:null,adjustPageHeight:function(){BZ.util.adjustPageHeight()},init:function(a){var b=this;$.extend(b,a),b._super(a)},startup:function(){var a=this;BZ.util.isIE7()?a.$renderTo.html("Oops! We're sorry, the version of Internet Explorer you are using is out of date and not supported. Please download the latest version of Internet Explorer to enable all the features of our website."):a._super()},showPage:function(a){var b,c=this;a&&-1===a&&(a=BZ.pageIndex=BZ.pageCount-1),b=a?$(BZ.$pages[BZ.pageIndex]):BZ.util.getCurrentPage(),b.show(),c.adjustPageContent(),c.adjustPageHeight(),b.animate({left:BZ.contentViewport.left},c.slide?600:0,function(){var a=b.find(":input:visible");c.activateTabIndex(a),c.scrollViewport(),0===a.length&&"activeElement"in document&&document.activeElement.blur(),BZ.util.isIE11()&&BZ.util.getPageParentContainer().css("overflow-x","visible"),BZ.isAnimating=!1}),$(document).trigger("newPage.bzFlow")},activateTabIndex:function(a){var b=a.first();this.setTabIndex(a),b.hasClass("other-input")||b.focus()},scrollViewport:function(){},adjustPageContent:function(){},setTabIndex:function(a){var b=1,c=BZ.pageController.$backEl,d=BZ.pageController.$nextEl;a.each(function(){this.tabIndex=b++}),d.length&&(d[0].tabIndex=b++),c.length&&(c[0].tabIndex=b++)},previousPage:function(){var a=this;a._validator.removeErrors(),BZ.isAnimating=!0,a.hidePage(BZ.pageIndex),a.showPage(--BZ.pageIndex)},nextPage:function(){var a=this;BZ.pageController.autoSlideOff(BZ.util.getCurrentPage()),BZ.isAnimating=!0,a.hidePage(BZ.pageIndex),a.showPage(++BZ.pageIndex)},hidePage:function(a){$(document).trigger("hidePage.bzFlow"),BZ.util.isIE11()&&BZ.util.getPageParentContainer().css("overflow-x","hidden"),$(BZ.$pages[a]).hide(),$(BZ.$pages[a]).css("left",BZ.util.getPageParentContainer().outerWidth())},addContentListeners:function(){BZ.util.getForm().on("click",".other-input",function(){$(this).parent().prev().attr("checked","checked")})},initFlow:function(){var a=BZ.pageIndex=0,b=document.location.toString();/reviewingRFQ/.test(window.location.search.toString())&&(a=-1),/redirect\=true/.test(b)&&$(":input:visible").add("option:visible").removeClass("autoSlide"),this.showPage(a),this._redirects(),this.afterFlowInit()},canGoForward:function(){return this._validator.validatePage()&&!BZ.isAnimating?(this._validator.removeErrors(),!0):!1},_redirects:function(){var a,b,c,d=BZ.util.getForm().find("input.redirect, option.redirect");d.length&&($("select").has(".redirect").on("change",function(){c=$(this).find(":selected").attr("data-redirect"),window.location.href=c}),d.each(function(){this.checked?$(this).prop("checked",!1):"select"===this.tagName.toLowerCase()&&this.options[this.selectedIndex].className.length&&(this.selectedIndex=0)}),$.isFunction(window.onunload)||(window.onunload=$.noop),d.click(function(a){a.preventDefault(),/^document.location=('|")http/.test($(this).attr("onclick"))||($.cookie("bzAutoselect",$.trim($(this).next().text().toLowerCase()),{path:"/"}),$.cookie("bzRedirectSrc",document.location.pathname,{path:"/"}))})),a=$.cookie("bzAutoselect"),a&&(document.location.pathname!==$.cookie("bzRedirectSrc")&&(b=$("label").filter(function(){return $.trim($(this).text().toLowerCase())===a}).prev().prop("checked",!0)),$.cookie("bzAutoselect",null,{path:"/"}),$.cookie("bzRedirectSrc",null,{path:"/"}))}})}(),function(){"use strict";BZ.flow.QuestionSetFlow=BZ.flow.RfqFlow.extend({defaultRedirect:BZ.util.getCategoryPath()+"buyerRegistration.html",flowType:"PPC",init:function(a){this._super(a)},initValidator:function(){this._validator=new BZ.flow.RfqQuestionSetValidator},getPageController:function(){var a=this;return new BZ.controller.RfqPageController({$backEl:$("#rfq-back"),$nextEl:$("#rfq-continue"),canGoForward:function(){return a.canGoForward()}})},onDataRendered:function(a,b){BZ.$pages=$(".page"),BZ.util.getForm().append('<input type="hidden" name="flow" value="'+BZ.util.getFlowTypeId(this.flowType)+'" />')},submitFormSuccess:function(a){var b=BZ.qs.existingQuoteRequests;b[BZ.categoryId]=a.quoteRequestId,$.cookie("existingQuoteRequests",JSON.stringify(b),{expires:.0139,path:"/"}),this._super(a)}})}(),function(){"use strict";BZ.flow.BlueCrushQuestionSetFlow=BZ.flow.QuestionSetFlow.extend({init:function(a){this._super(a),BZ.contentViewport={left:"30px",top:"0",width:"482px",height:"390px"}},getRenderer:function(){var a=this;return a._renderer||(a._renderer=new BZ.renderer.BlueCrushQuestionSetRenderer({flowType:a.flowType,$renderTo:a.$renderTo})),a._renderer},previousPage:function(){BZ.util.trackEvent("back to page: "+BZ.pageIndex),this._super()},nextPage:function(){this._super(),BZ.util.trackEvent("continue to page: "+(BZ.pageIndex+1))},onNewPage:function(){this._super(),$("#backNextRow").toggleClass("firstPage",0==BZ.pageIndex)},createDialogs:function(){var a=new BZ.flow.DialogFactory({dialogs:[new BZ.flow.BlueCrushHelpDialog({flowType:this.flowType}),new BZ.flow.BlueCrushPopUnderDialog({})]});a.start()},afterFlowInit:function(){var a=BZ.pageIndex;/reviewingRFQ/.test(window.location.search.toString())&&(a=-1,BZ.eventCat=$.cookie("bz_qs_pathname")),0===a&&(BZ.eventCat=window.location.pathname.toString(),$.cookie("bz_qs_pathname",BZ.eventCat,{path:"/"}),$.cookie("bz_qs_url",window.location,{path:"/"}))},toggleSpinwait:function(a){$(".loadingSpinner").toggle(a),$("body").css("cursor",a?"wait":"default")},beforePageSubmitRequest:function(){BZ.util.trackEvent("continue to page: "+(BZ.pageIndex+2)),BZ.pageController.disableBack(),BZ.pageController.disableNext(),this.toggleSpinwait(!0),this._super()},submitFormError:function(a,b,c){this._super(a,b,c),BZ.pageController.enableBack(),BZ.pageController.enableNext(),this.toggleSpinwait(!1)}})}(),function(){"use strict";BZ.flow.PPCQuestionSetFlow=BZ.flow.BlueCrushQuestionSetFlow.extend({init:function(a){this._super(a)}})}(),function(){"use strict";BZ.flow._Validator=_Class.extend({rules:null,errorClass:"error",init:function(a){var b=this,c=BZ.util.getForm();$.extend(b,a),$.validator.setDefaults({errorClass:b.errorClass,onfocusout:!1,onkeyup:!1,onclick:!1,highlight:b.highlight,unhighlight:b.unhighlight,errorPlacement:b.errorPlacement}),$.data(c.get(0))&&$.removeData(c.get(0),"validator"),c.validate(b.rules),b._addSyncRemoteMethod()},highlight:function(a,b,c){},unhighlight:function(a,b,c){},errorPlacement:function(a,b){},removeErrors:function(){},validatePage:function(){return BZ.util.getForm().validate().checkElements(BZ.util.getCurrentPage())},_addSyncRemoteMethod:function(){$.validator.addMethod("syncRemote",function(a,b,c){if(this.optional(b))return"dependency-mismatch";var d=this.previousValue(b);if(this.settings.messages[b.name]||(this.settings.messages[b.name]={}),d.originalMessage=this.settings.messages[b.name].remote,this.settings.messages[b.name].remote=d.message,c="string"==typeof c&&{url:c}||c,d.old===a)return d.valid;d.old=a;var e=this;this.startRequest(b);var f={};f[b.name]=a;var g="pending";return $.ajax($.extend(!0,{url:c,async:!1,mode:"abort",port:"validate"+b.name,dataType:"json",data:f,parseResponse:function(a){return a},success:function(c){if(c=this.parseResponse(c),e.settings.messages[b.name].remote=d.originalMessage,g=c===!0||"true"===c){var f=e.formSubmitted;e.prepareElement(b),e.formSubmitted=f,e.successList.push(b),delete e.invalid[b.name],e.showErrors()}else{var h={},i=c||e.defaultMessage(b,"remote");h[b.name]=d.message=$.isFunction(i)?i(a):i,e.invalid[b.name]=!0,e.showErrors(h)}d.valid=g,e.stopRequest(b,g)}},c)),g},"Please fix this field.")}})}(),function(){"use strict";BZ.flow.RfqValidator=BZ.flow._Validator.extend({rules:{ignore:":hidden:not([type='radio']):not([type='checkbox'])"},init:function(a){var b=this;$.extend(b,a),b._super(a),BZ.util.getForm().find('input[type="text"], textarea').each(function(a,b){$(b).rules("add",{maxlength:1e3,messages:{maxlength:"This field has a 1,000 character limit."}})})},highlight:function(a,b,c){var d=$(a);"radio"===a.type||"checkbox"===a.type?this.findByName(a.name).addClass(b).removeClass(c):d.hasClass("other-input")?d.removeClass(c).addClass(b):$(a).addClass(b).removeClass(c)},unhighlight:function(a,b,c){var d=$(a);"radio"===a.type||"checkbox"===a.type?this.findByName(a.name).removeClass(b).addClass(c):d.hasClass("other-input")&&d.removeClass(b).addClass(c)},errorPlacement:function(a,b){$(document).trigger("adjustPageHeight.bzFlow")},removeErrors:function(){var a=BZ.util.getCurrentPage();a.removeClass("error").find("span.error").remove().end().find(".error").removeClass("error"),a.find("error").removeClass("error"),$(document).trigger("adjustPageHeight.bzFlow")}})}(),function(){"use strict";BZ.flow.RfqQuestionSetValidator=BZ.flow.RfqValidator.extend({init:function(a){this._super(a),$.extend($.validator.messages,{required:"Please provide an answer (don't worry, it's not set in stone)."}),$(".other-input").each(function(a,b){$(b).removeClass("required").rules("add",{required:function(a){return $(a).parents("div:not(.multipleAnsOther)").children("input").is(":checked")}})});try{$("#zipcodeQuestion").rules("add",{syncRemote:{type:"get",beforeSend:function(a,b){b.url=BZ.apiDomain+"/api/noAuth/zipcodes/"+$("#zipcodeQuestion").val()+"/isValid"},parseResponse:function(a){return a.valid}},messages:{syncRemote:"Please use a valid 5 digit US zip code."}})}catch(b){window.console.log((new Date).getTime()," err: ",b)}},errorPlacement:function(a,b){var c,d,e,f;b.parents("fieldset").addClass("error"),b.hasClass("other-input")?(b.parent().append(a),b.parents("fieldset").find("legend").addClass("error")):b.parents(".textmultiple").length?(c=b.parents(".textmultiple"),d=c.find("span.error"),e=!0,d?(d.each(function(b,c){a.html()===$(c).html()&&($(c).show(),e=!1)}),e?c.append(a).addClass("error"):c.addClass("error")):c.append(a).addClass("error")):(f=b.closest("fieldset").find("p.note:last"),f.length>0?f.after(a).addClass("error"):b.parents("fieldset").find("legend").append(a).addClass("error")),this._super()}})}(),function(){"use strict";BZ.flow.DialogFactory=_Class.extend({dialogs:[],init:function(a){var b=this;$.extend(b,a)},start:function(){this.bindDialogs()},bindDialogs:function(){$.each(this.dialogs,function(a,b){var c,d,e=b.dialogName;$("."+e).on("click",function(){return c=$(this.hash),c.is(":ui-dialog")?c.dialog(c.dialog("isOpen")?"close":"open"):(d=$.extend(!0,b.getConfig(),{callingLink:$(this),me:b}),c.dialog(d)),!1})})}})}(),function(){"use strict";BZ.flow._Dialog=_Class.extend({dialogName:null,buttons:{Close:function(){$(this).dialog("close")}},closeText:"Close",draggable:!1,dialogClass:"",height:"auto",resizable:!1,width:300,init:function(a){var b=this;$.extend(b,a)},create:function(){},open:function(){},getConfig:function(a){var b=this;return $.extend({buttons:b.buttons,closeText:b.closeText,draggable:b.draggable,dialogClass:b.dialogClass,height:b.height,resizable:b.resizable,width:b.width,create:b.create,open:b.open},a)}})}(),function(){"use strict";BZ.flow.BlueCrushHelpDialog=BZ.flow._Dialog.extend({dialogName:"help",flowType:null,dialogClass:"question-help pageBox blue",height:300,width:410,init:function(a){var b=this;b._super(a),$(document).on("hidePage.bzFlow",this._hideDialogManually)},create:function(a,b){0==$(this).dialog("widget").find(".dialogWrapper").length&&$(this).dialog("widget").contents().wrapAll('<div class="dialogWrapper"/>')},adjustDialogExplicitly:function(a){var b=$(a).dialog("widget"),c=(this._getDialogCloseAlt(),parseInt(b.css("padding-left"))+parseInt(b.css("padding-right"))),d=parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom"));b.find(".dialogWrapper").css({height:$("#backNextRow").offset().top-d-("PPC"===this.flowType?"189":"288")}),b.css({top:"PPC"===this.flowType?"152px":"251px",left:this._getDialogLeft(),width:this.width-c,height:$(".rightContent").prop("scrollHeight")-d})},adjustAlternateClose:function(a){a.css({top:$("#backNextRow").offset().top,left:this._getDialogLeft()}).show()},open:function(a,b){var c,d,e=this,f=$(this).dialog("option","me"),g=$(this).dialog("widget"),h=f._getDialogCloseAlt();BZ.util.getPageParentContainer().length?($(window).on("resize",function(){f.adjustDialogExplicitly(e),f.adjustAlternateClose(h)}),f.adjustDialogExplicitly(e),f.adjustAlternateClose(h),$(this).dialog({close:function(a,b){h.hide(),h.off()}}),h.on("click",function(){$(e).dialog("close")})):(c=$(this).dialog("option","callingLink"),d=c.offset(),g.css({top:d.top,left:d.left+c.outerWidth()+3}))},_getDialogLeft:function(){return BZ.util.getPageParentContainer().offset().left-this.width-5},_getDialogCloseAlt:function(){return $("#dialogCloseAlt")},_hideDialogManually:function(a){$(".ui-dialog").hide(),$("#dialogCloseAlt").hide()}})}(),function(){"use strict";BZ.flow.BlueCrushPopUnderDialog=BZ.flow._Dialog.extend({dialogName:"popUnder",dialogClass:"dialog-pop-under",init:function(a){var b=this;b._super(a)},open:function(a,b){var c=$(this).data("dialog").options.callingLink,d=c.offset();$(this).dialog("widget").css({top:d.top+c.outerHeight(),left:d.left})}})}(),function(){"use strict";BZ.renderer._Renderer=_Class.extend({$renderTo:null,dataUrl:null,init:function(a){var b=this;$.extend(b,a)},render:function(){var a=this;return a.getData()},getData:function(){var a=this;return $.ajax({type:"GET",url:a.dataUrl,success:function(b){a.onGetDataSuccess(b)},error:function(b,c,d){a.onGetDataError(b,c,d)}})},onGetDataSuccess:function(a){this.onDataRendered(a)},onGetDataError:function(a,b,c){},onDataRendered:function(a){$(document).trigger("dataRendered.bzFlow",a),this.uiEnhancements(),$(document).trigger("pageRendered.bzFlow",a)},uiEnhancements:function(){$("html.ie7").length>0&&$("legend").each(function(){$(this).contents().wrapAll('<span class="ie7wrap"/>')})}})}(),function(){"use strict";BZ.renderer.QuestionSetRenderHelper=_Class.extend({init:function(a){},processData:function(a,b){var c,d,e,f,g,h=this,i=[];for(a=h._sortByDisplayorder(a),c=0;c<a.length;c++)d=a[c],e=d.answersXML.answerXMList,f=h._createNewObjectStructure(d,e,b),"warning"!=d.type?(h._flattenAnswerInfos(d,f),("textsingle"==d.type||"textparagraph"==d.type)&&h._parseTextSingle(d,f,e),"textmultiple"==d.type&&h._parseTextMultiple(d,f,e),"multiplechoice"==d.type&&h._parseMultipleChoice(d,f,e),g&&(f.warning=g,g=null),i.push(f)):(g=d.bodyText,i.length>0&&(i[i.length-1].warning=g,g=null));return i},_sortByDisplayorder:function(a){return a.sort(function(a,b){var c=parseInt(a.displayorder),d=parseInt(b.displayorder);return d>c?-1:c>d?1:0})},_createNewObjectStructure:function(a,b,c){return $.extend({answerCount:b.length,answerList:null,matchable:a.matchable,questionText:a.questionText,required:a.required,type:null,xmlId:a.xmlId},c||{})},_flattenAnswerInfos:function(a,b){a.note&&"true"==a.note.display&&"email"!=a.xmlId&&"zipcodeQuestion"!=a.xmlId&&("additionalRequirements"!=a.xmlId?b.note=a.note.text:b.additionalNotes=a.note.text),a.helpText&&a.helpText.title&&(b.helpTitle=a.helpText.title),a.helpText&&a.helpText.text&&(b.helpText=a.helpText.text),a.answersXML.exampleAnswers&&(b.exampleAnswers=a.answersXML.exampleAnswers)},_parseTextSingle:function(a,b,c){var d,e;"zipcodeQuestion"==a.xmlId||"email"==a.xmlId||"additionalRequirements"==a.xmlId?b.type=a.xmlId:b.type=a.type,d=c[0].properties,e={value:a.value,xmlId:a.xmlId},d.validation&&(e.validation=d.validation,e.isNumeric=/number|zipUS/.test(d.validation),e.isPhoneUS=/phoneUS/.test(d.validation)),d.size&&(e.size=d.size),b.answerList=[e]},_parseTextMultiple:function(a,b,c){b.type=a.type,b.answerList=c,$.each(b.answerList,function(a,b){b.properties&&(b.properties.size&&(b.size=b.properties.size),b.properties.validation&&(b.validation=b.properties.validation,b.isNumeric=/number|zipUS/.test(b.properties.validation),b.isPhoneUS=/phoneUS/.test(b.properties.validation)),delete b.properties)})},_parseMultipleChoice:function(a,b,c){("checkbox"==a.answersXML.type||"radio"==a.answersXML.type||"select"==a.answersXML.type)&&(b.type=a.answersXML.type,"select"==b.type?b.selectList=c:b.answerList=c,$.each(b.answerList||[],function(a,c){!c.iconUrl||BZ.util.isIE7()||BZ.util.isIE8()||(b.hasIcons=!0),c.properties&&1==c.properties.other&&(c.isOther=!0,delete c.properties)}))}})}(),function(){"use strict";BZ.renderer.QuestionSetRenderer=BZ.renderer._Renderer.extend({dataUrl:null,flowType:null,iconWidth:null,init:function(a){var b,c;return $.extend(this,a),BZ.util.hasCookiesEnabled()?(this.dataUrl=BZ.apiDomain+"/api/noAuth/categories/"+BZ.categoryId+"/questionSets/latest/flow/"+BZ.util.getFlowTypeId(this.flowType),b=this._getExistingQuoteRequestId(),b&&(this.dataUrl+="?_bz_rfq_id="+b),c=$.deparam.querystring()._rfq_preview,c&&(this.dataUrl+=(b?"&":"?")+"_rfq_preview="+c),void this._super(a)):!1},onGetDataSuccess:function(a){var b=this,c=a.categoryQuestions,d="business"===a.category.type,e=c.questionXMList,f=new BZ.renderer.QuestionSetRenderHelper;e=f.processData(e,{iconWidth:b.iconWidth,isBusiness:d}),$.extend(e,{categoryType:a.category.type}),$.extend(BZ,{pageCount:e.length,questionSetVersionId:c.questionSetVersionId,submitUrl:a._links.submissionUrl}),BZ.reg.pageCount=BZ.reg.pageCount||a.buyerRegistrationPageCount,$.cookie("bz_totalpages",BZ.pageCount+BZ.reg.pageCount,{path:BZ.util.getCategoryPath()}),b.$renderTo.html(BZ.applyTemplateStr("#tpl-page",e)),b._super(a)},setupProgressBar:function(){BZ.pbar=new BZ.widget.ProgressBar({$renderTo:$(".progressBar"),totalPages:BZ.util.getTotalPages()})},onDataRendered:function(a,b){this.setupProgressBar(),this._super(a,b)},uiEnhancements:function(){this._super(),$("a.openCustomWindow").on("click",function(a){var b=$(this),c=b.attr("href"),d=b.attr("title").replace(/[ .]/gm,"_").toLowerCase(),e=b.attr("width")||800,f=b.attr("height")||800;window.open(c,d,"width="+e+",height="+f+",location=false,scrollbars,alwaysRaised,resizeable"),a.preventDefault()}),$("form.qs fieldset").each(function(){var a=$(this).find("div.radio, div.checkbox"),b=$(this).find("div.horizontalControls");if(0===$(this).find(".textmultiple").length&&a.length>5)if(a.length>6&&0===b.length){var c=a.length,d=c%2?(c+1)/2:c/2;$(this).children(".radio:lt("+d+"), .checkbox:lt("+d+")").wrapAll('<div class="answersColumn1 answersColumn group" />'),$(this).children(".radio, .checkbox").wrapAll('<div class="answersColumn2 answersColumn group" />')}else b.children(".radio:lt(3), .checkbox:lt(3)").wrapAll('<div class="answersRow1 answersRow group" />').wrapAll('<div class="horizontalControls choose3" />'),b.children(".radio, .checkbox").wrapAll('<div class="answersRow2 answersRow group" />').wrapAll('<div class="horizontalControls choose3" />'),b.contents().unwrap()});var a;$("fieldset.horizontalPage div.qiconWrapper").on("click",function(){return"default"==$(this).css("cursor")?!1:(a=$(this).siblings('input[type="radio"], input[type="checkbox"]'),a.prop("checked",!a.prop("checked")),void(a.hasClass("redirect")?($.cookie("bzAutoselect",$.trim(a.next().text().toLowerCase()),{path:"/"}),a[0].onclick()):"radio"==a[0].type&&a.hasClass("autoSlide")&&!a.siblings().hasClass("multipleAnsOther")&&BZ.pageController.forward({data:BZ.pageController})))}),$('div[id^="dialog_img"]').appendTo("#questionPopupImages"),$(".hover-img").on("click",function(a){$(this).parent().prev().trigger("click"),a.preventDefault()}).on("mouseenter mouseleave",function(a){var b="mouseenter"===a.type,c=$(this.hash);if(!b)return void c.fadeOut(100);$.data(this,"hoverimg")||(c.find("p").text(this.getAttribute("title")),this.setAttribute("title",""),$.data(this,"hoverimg",{width:c.width()}));var d=$(this).offset();c.css({top:d.top+27,left:d.left-($.data(this,"hoverimg").width-26),width:$.data(this,"hoverimg").width}),c.fadeIn(100)})},_getExistingQuoteRequestId:function(){return BZ.qs.existingQuoteRequests=JSON.parse($.cookie("existingQuoteRequests")||"{}"),BZ.qs.existingQuoteRequests[BZ.categoryId]}})}(),function(){"use strict";BZ.renderer.BlueCrushQuestionSetRenderer=BZ.renderer.QuestionSetRenderer.extend({iconWidth:90,init:function(a){this._super(a)},onGetDataSuccess:function(a){var b=a.categoryQuestions;this._super(a),b.heroImageUrl&&$(".contentRow").css("background-image",'url("'+b.heroImageUrl+'")')},populateCustomTemplateContent:function(a){$("#ppc-tag").length&&$(".tagline").html(BZ.applyTemplateStr("#ppc-tag",{tagline:a.tagline})),$("#ppc-header").length&&$(".headerRow").html(BZ.applyTemplateStr("#ppc-header",{
headline:a.headline,subHeader:a.subheader})),$("#ppc-call").length&&$("#callToAct").html(BZ.applyTemplateStr("#ppc-call",{callHeadline:a.callToAction.title,call:a.callToAction.text})),$("#ppc-control").length&&$("#backNextRow").html(BZ.applyTemplateStr("#ppc-control",{back:a.previousBtn,forward:a.nextBtn}))},onDataRendered:function(a){a.flowOptions&&this.populateCustomTemplateContent(a.flowOptions),BZ.pbar=new BZ.widget.ProgressBar({$renderTo:$(".progressBar"),totalPages:BZ.util.getTotalPages()}),this._super(a)}})}(),function(){"use strict";BZ.widget.ProgressBar=_Class.extend({$renderTo:null,totalPages:null,template:"#tpl-progress-bar",progressWrapper:"completionRow",progressTxt:"progress-value",progressBarWrapper:"completionWrapper",progressBar:"completionBar",progressMsgWrapper:"completionMsg",progressMsgTxt:"message-text",messages:[{percent:25,text:"GREAT PROGRESS! KEEP IT GOING."},{percent:50,text:"ALMOST DONE! JUST A FEW MORE."}],init:function(a){var b=this;$.extend(b,a),b._render()},_render:function(){var a={progressWrapper:this.progressWrapper,progressTxt:this.progressTxt,progressBar:this.progressBar,progressBarWrapper:this.progressBarWrapper,progressMsgWrapper:this.progressMsgWrapper,progressMsgTxt:this.progressMsgTxt};"string"==typeof this.template&&this.template.match("^#")?this.$renderTo.html(BZ.applyTemplateStr(this.template,a)):this.$renderTo.html(this.template(a))},_toggleProgressMsg:function(a,b){a.toggle(b)},updateProgress:function(a){var b,c,d,e,f=!1;for(d=this._calcProgress(a,this.totalPages),$("."+this.progressTxt).text(d+"%"),$("."+this.progressBar).width(d+"%"),$("."+this.progressBar).toggle(0!==d),e=this._calcProgress(a+1,this.totalPages),b=0;b<this.messages.length;b++)if(c=this.messages[b],d<=c.percent&&e>c.percent){$("."+this.progressMsgTxt).text(c.text),$("."+this.progressMsgWrapper).css({left:d+"%",width:100-d+"%"}),f=!0;break}this._toggleProgressMsg($("."+this.progressMsgWrapper),f)},_calcProgress:function(a){return 5*Math.round(parseInt(a/this.totalPages*100,10)/5)}})}();